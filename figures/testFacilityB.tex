\begin{figure}

\centering

\begin{tikzpicture}

% Air Supply
\draw ( 2, -2.05 ) -- ++( -1.05, 0 ) -- ++( 0, 1.1 ) -- ++( 1, 0 ) -- ++( 0, 2.9 ) -- ++( -1.45, 0 );
\draw ( 2, -1.95 ) -- ++( -0.95, 0 ) -- ++( 0, 0.9 ) -- ++( 1, 0 ) -- ++( 0, 3.1 ) -- ++( -1, 0 ) -- ++( 0, 1 ) -- ++( -0.55, 0 );
\draw ( 0.5, 2.05 ) -- ++( 0.45, 0 ) -- ++( 0, 0.9 ) -- ++( -0.45, 0 );
\draw ( -0.5, 2.05 ) -- ++( -0.45, 0 ) -- ++( 0, 0.9 ) -- ++( 0.45, 0 );
\draw ( -0.5, 1.95 ) -- ++( -0.55, 0 ) -- ++( 0, 1.1 ) -- ++( 0.55, 0 );

\draw ( 2, -2.5 ) rectangle ++( 0.2, 1 );
\draw ( 2.2, -2.1 ) rectangle ++( 0.05, 0.2 );
\draw ( 2.25, -2.5 ) rectangle ++( 0.2, 1 );

\draw ( 2.45, -2.1 ) -- ++( 2.55, 0 ) -- ++( 0, -1.8 ) -- ++( -2.55, 0 );
\draw ( 2.45, -4.1 ) -- ++( 2.75, 0 ) -- ++( 0, 1 ) -- ++( 2.8, 0 );
\draw [red] ( 3.5, -2 ) circle ( 0.2 );
\draw [red] ( 3.5, -2 ) circle ( 0.175 );
\draw [red] ( 3.35, -2.1 ) -- ++( 0.3, 0.2 );
\draw [red] ( 3.35, -1.9 ) -- ++( 0.3, -0.2 );

\draw ( -0.1, 0 ) -- ++( 0, -4.1 ) -- ++( 2.1, 0 );
\draw ( 0.1, 0 ) -- ++( 0, -3.9 ) -- ++( 1.9, 0 );
\draw ( 2, -4.5 ) rectangle ++( 0.2, 1 );
\draw ( 2.2, -4.1 ) rectangle ++( 0.05, 0.2 );
\draw ( 2.25, -4.5 ) rectangle ++( 0.2, 1 );
\draw [red] ( 3.5, -4 ) circle ( 0.2 );
\draw [red] ( 3.5, -4 ) circle ( 0.175 );
\draw [red] ( 3.35, -4.1 ) -- ++( 0.3, 0.2 );
\draw [red] ( 3.35, -3.9 ) -- ++( 0.3, -0.2 );

% Fuel Supply
\draw ( 2.45, -1.9 ) -- ++( 2.75, 0 ) -- ++( 0, -1 ) -- ++( 0.8, 0 ) -- ++( 0, 0.95 ) -- ++( 1, 0 );
\draw ( 8, -2.9 ) -- ++( -1.9, 0 ) -- ++( 0, 0.85 ) -- ++( 0.9, 0 );
\draw ( 7, -2.25 ) rectangle ++( 0.1, 0.5 );
\draw ( 7.1, -2.05 ) rectangle ++( 0.025, 0.1 );
\draw ( 7.125, -2.25 ) rectangle ++( 0.1, 0.5 );
\draw ( 7.225, -2.05 ) -- ++( 0.775, 0 );
\draw ( 7.225, -1.95 ) -- ++( 0.775, 0 );

% Base flange
\draw ( -1.5, 0 ) rectangle ++( 3, 0.5 );

% Combustor
\draw ( -0.5, 0.5 ) -- ++( 0, 2.5 ) .. controls +( 0, 0.5 ) and +( 0, -0.5 ) .. ++( 0.35, 0.8 ) -- ++( 0.3, 0 );
\draw ( 0.5, 0.5 ) -- ++( 0, 2.5 ) .. controls +( 0, 0.5 ) and +( 0, -0.5 ) .. ++( -0.35, 0.8 );
\draw ( -0.15, 3.8 ) rectangle ++( 0.3, 0.7 );

% Labels
\draw [->] ( 9.5, -3 ) -- ++( -1.25, 0 );
\node at ( 9, -3 ) [below] {Air};

\draw [->] ( 9.5, -2 ) -- ++( -1.25, 0 );
\node at ( 9, -2 ) [above] {Natural gas};

\filldraw ( 2.225, -4 ) circle ( 0.05 ) -- ++( -0.5, -1 ) node [below] {\(\dot{m}_{core}\)};
\filldraw ( 2.225, -2 ) circle ( 0.05 ) -- ++( 0.5, 1 ) node [above] {\(\dot{m}_{swirl}\)};
\filldraw ( 7.1125, -2 ) circle ( 0.05 ) -- ++( 0.5, 1 ) node [above] {\(\dot{m}_{fuel}\)};

\end{tikzpicture}

\caption[Schematic of test facility B]{A schematic of the high pressure testing facility where Configuration B is operated is shown. The locations of the orifice flow meters on the reactant streams and fuel lines are shown. Valves (shown in \textcolor{red}{red}) on the swirl and core flow lines allow for the relative mass flow split to be varied between the two reactant streams. The upstream orifice flow meter on the preheated air line is not shown here. All preheated air lines are insulated.}

\label{fig:testFacilityB}

\end{figure}

